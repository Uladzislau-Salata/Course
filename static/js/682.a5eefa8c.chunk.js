"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[682],{4354:(e,t,r)=>{r.d(t,{A:()=>o});const n=r.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",a=r.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var c=r(579);const o=()=>(0,c.jsxs)("div",{className:"app__banner",children:[(0,c.jsx)("img",{src:n,alt:"Avengers"}),(0,c.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,c.jsx)("br",{}),"Stay tuned!"]}),(0,c.jsx)("img",{src:a,alt:"Avengers logo"})]})},1425:(e,t,r)=>{r.d(t,{A:()=>c});const n=r.p+"static/media/error.42292aa12b6bc303ce99.gif";var a=r(579);const c=()=>(0,a.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:n,alt:"Error"})},8637:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(1591),a=r(5043),c=r(5323),o=r(897),i=r(8502),s=r(1425),l=r(579);const u=(e,t,r)=>{switch(e){case"waiting":return(0,l.jsx)(i.A,{});case"loading":return r?(0,l.jsx)(t,{}):(0,l.jsx)(i.A,{});case"confirmed":return(0,l.jsx)(t,{});case"error":return(0,l.jsx)(s.A,{});default:throw new Error("Unexpected process state")}},p=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!1),[i,s]=(0,a.useState)(0),[p,f]=(0,a.useState)(!1),{getAllComics:d,process:h,setProcess:m}=(0,o.A)();(0,a.useEffect)((()=>{v(i,!0)}),[]);const v=(e,t)=>{n(!t),d(e).then(g).then((()=>m("confirmed")))},g=r=>{let a=!1;r.length<8&&(a=!0),t([...e,...r]),n(!1),s(i+8),f(a)};return(0,l.jsxs)("div",{className:"comics__list",children:[u(h,(()=>function(e){const t=e.map(((e,t)=>(0,l.jsx)("li",{className:"comics__item",children:(0,l.jsxs)(c.N_,{to:"/comics/".concat(e.id),children:[(0,l.jsx)("img",{src:e.thumbnail,alt:e.title,className:"comics__item-img"}),(0,l.jsx)("div",{className:"comics__item-name",children:e.title}),(0,l.jsx)("div",{className:"comics__item-price",children:e.price})]})},t)));return(0,l.jsx)("ul",{className:"comics__grid",children:t})}(e)),r),(0,l.jsx)("button",{disabled:r,style:{display:p?"none":"block"},className:"button button__main button__long",onClick:()=>v(i),children:(0,l.jsx)("div",{className:"inner",children:"load more"})})]})};var f=r(4354);const d=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.m,{children:[(0,l.jsx)("meta",{name:"description",content:"Page with list of our comics"}),(0,l.jsx)("title",{children:"Comics page"})]}),(0,l.jsx)(f.A,{}),(0,l.jsx)(p,{})]})},897:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(5043);const a=()=>{const{request:e,clearError:t,process:r,setProcess:a}=(()=>{const[e,t]=(0,n.useState)("waiting");return{request:(0,n.useCallback)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t("loading");try{const t=await fetch(e,{method:r,body:n,headers:a});if(!t.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(t.status));return await t.json()}catch(c){throw t("error"),c}}),[]),clearError:(0,n.useCallback)((()=>{t("loading")}),[]),process:e,setProcess:t}})(),c="https://marvel-server-zeta.vercel.app/",o="d4eecb0c66dedbfae4eab45d312fc1df",i=e=>({id:e.id,name:e.name,description:e.description?"".concat(e.description.slice(0,19),"..."):"There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),s=e=>{var t;return{id:e.id,title:e.title,description:e.description||"There is no description",pageCount:e.pageCount?"".concat(e.pageCount," p."):"No information about the number of pages",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,language:(null===(t=e.textObjects[0])||void 0===t?void 0:t.language)||"en-us",price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"not available"}};return{clearError:t,process:r,setProcess:a,getAllCharacters:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(await e("".concat(c,"characters?limit=9&offset=").concat(t,"&apikey=").concat(o))).data.results.map(i)},getCharacter:async t=>{const r=await e("".concat(c,"characters/").concat(t,"?&apikey=").concat(o));return i(r.data.results[0])},getAllComics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await e("".concat(c,"comics?orderBy=issueNumber&limit=8&offset=").concat(t,"&apikey=").concat(o))).data.results.map(s)},getComic:async t=>{const r=await e("".concat(c,"comics/").concat(t,"?apikey=").concat(o));return s(r.data.results[0])},getCharacterByName:async t=>(await e("".concat(c,"characters?name=").concat(t,"&apikey=").concat(o))).data.results.map(i)}}},5323:(e,t,r)=>{function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var a=r(6841),c=n(r(5043)),o=r(7321);r(5173),r(8620);var i=n(r(2213));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}var f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=o.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(a.Router,{history:this.history,children:this.props.children})},t}(c.Component),d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=o.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(a.Router,{history:this.history,children:this.props.children})},t}(c.Component),h=function(e,t){return"function"==typeof e?e(t):e},m=function(e,t){return"string"==typeof e?o.createLocation(e,null,null,t):e},v=function(e){return e},g=c.forwardRef;void 0===g&&(g=v);var y=g((function(e,t){var r=e.innerRef,n=e.navigate,a=e.onClick,o=p(e,["innerRef","navigate","onClick"]),i=o.target,l=s({},o,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),n())}});return l.ref=v!==g&&t||r,c.createElement("a",l)})),b=g((function(e,t){var r=e.component,n=void 0===r?y:r,l=e.replace,u=e.to,f=e.innerRef,d=p(e,["component","replace","to","innerRef"]);return c.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var r=e.history,a=m(h(u,e.location),e.location),p=a?r.createHref(a):"",y=s({},d,{href:p,navigate:function(){var t=h(u,e.location),n=o.createPath(e.location)===o.createPath(m(t));(l||n?r.replace:r.push)(t)}});return v!==g?y.ref=t||f:y.innerRef=f,c.createElement(n,y)}))})),x=function(e){return e},j=c.forwardRef;void 0===j&&(j=x);var w=j((function(e,t){var r=e["aria-current"],n=void 0===r?"page":r,o=e.activeClassName,l=void 0===o?"active":o,u=e.activeStyle,f=e.className,d=e.exact,v=e.isActive,g=e.location,y=e.sensitive,w=e.strict,_=e.style,C=e.to,k=e.innerRef,N=p(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var r=g||e.location,o=m(h(C,r),r),p=o.pathname,A=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=A?a.matchPath(r.pathname,{path:A,exact:d,sensitive:y,strict:w}):null,R=!!(v?v(E,r):E),P="function"==typeof f?f(R):f,O="function"==typeof _?_(R):_;R&&(P=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(P,l),O=s({},O,u));var S=s({"aria-current":R&&n||null,className:P,style:O,to:o},N);return x!==j?S.ref=t||k:S.innerRef=k,c.createElement(b,S)}))}));t.N_=b},2213:e=>{var t="Invariant failed";e.exports=function(e,r){if(!e)throw new Error(t)}},8620:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n=function(e,t){}}}]);
//# sourceMappingURL=682.a5eefa8c.chunk.js.map